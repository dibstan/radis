{% load bootstrap_icon from core_extras %}
<form method="get" x-data="SearchForm()">
    <div class="input-group">
        <span class="input-group-text">Search</span>
        <input id="query"
               name="query"
               type="text"
               value="{{ query }}"
               maxlength="200"
               placeholder="Input your search terms and press enter"
               class="form-control" />
        <button type="button"
                class="btn bg-transparent"
                @click="clear()"
                hx-post="{% url 'search_info' %}"
                hx-target="#search-panel"
                style="width: 40px;
                       margin-left: -40px;
                       padding: 0;
                       z-index: 100">{% bootstrap_icon "x" 20 %}</button>
        {# algorithm GET parameter is added by the select itself #}
        <select name="algorithm"
                class="form-select"
                hx-post="{% url 'search_info' %}"
                hx-target="#search-panel"
                @change="algorithmChanged"
                style="max-width: 200px"
                aria-label="Select search algorithm">
            {% for available_algorithm in available_algorithms %}
                <option value="{{ available_algorithm }}"
                        {% if available_algorithm == selected_algorithm %}selected{% endif %}>
                    {{ available_algorithm }}
                </option>
            {% endfor %}
        </select>
        <button type="submit" class="btn btn-success">{% bootstrap_icon "search" 20 %}</button>
    </div>
    <fieldset class="mt-3 d-inline-block">
        <legend>Date Range</legend>
        <div class="input-group">
            <input id="startDate" class="form-control form-control-sm" type="date" />
            <span class="input-group-text">-</span>
            <input id="endDate" class="form-control form-control-sm" type="date" />
        </div>
    </fieldset>
    <div class="ms-3 d-inline-block">
        <label for="exampleFormControlInput1" class="form-label">Modality</label>
        <div class="input-group">
            <select class="form-select" multiple aria-label="Multiple select example">
                <option selected>Open this select menu</option>
                <option value="1">One</option>
                <option value="2">Two</option>
                <option value="3">Three</option>
            </select>
        </div>
    </div>
    <div class="ms-3 d-inline-block">
        <label for="exampleFormControlInput1" class="form-label">Description</label>
        <input id="endDate" class="form-control form-control-sm" type="text" />
    </div>
</form>
